(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){},41:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(6),c=a.n(r),o=(a(17),a(1)),s=(a(19),a(21),a(41),function(){var e=Object(n.useContext)(d);console.log(e.action);var t=Object(n.useState)(e.employeeDataList),a=Object(o.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),m=Object(o.a)(s,2),i=m[0],u=m[1];Object(n.useEffect)(function(){c(e.employeeDataList)},[e]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{className:"row mb-2"},l.a.createElement("div",{className:"col-3 mt-2"},l.a.createElement("select",{onChange:function(t){if(t.preventDefault(),console.log(t.target.value),u(t.target.value),"all"===t.target.value)c(e.employeeDataList);else if("highest"===t.target.value){var a=0;e.employeeDataList.map(function(e){parseInt(e.salary)>a&&(a=parseInt(e.salary))});var n=e.employeeDataList.filter(function(e){return parseInt(e.salary)===a});c(n)}else if("lowest"===t.target.value){var l=parseInt(e.employeeDataList[0].salary);e.employeeDataList.map(function(e){parseInt(e.salary)<l&&(l=parseInt(e.salary))});var r=e.employeeDataList.filter(function(e){return parseInt(e.salary)===l});c(r)}}},l.a.createElement("option",{value:"all"},"All"),l.a.createElement("option",{value:"lowest"},"Lowest Salary"),l.a.createElement("option",{value:"highest"},"Highest Salary"))),l.a.createElement("div",{className:"col-2"}),l.a.createElement("div",{className:"col-7 mt-2"},l.a.createElement("input",{type:"search",placeholder:"Search by department",onChange:function(t){t.preventDefault(),console.log(t.target.value),u(t.target.value),""===t.target.value&&c(e.employeeDataList)}}),l.a.createElement("button",{className:" col-2",onClick:function(t){t.preventDefault();var a=e.employeeDataList.filter(function(e){return e.department.toLowerCase().includes(i.toLowerCase())});c(a)}},"Search"))),l.a.createElement("table",{className:"table table-bordered  table-striped"},l.a.createElement("thead",null,l.a.createElement("th",{scope:"col"},"S.No."),l.a.createElement("th",{scope:"col"},"Name"),l.a.createElement("th",{scope:"col"},"Department"),l.a.createElement("th",{scope:"col"},"Salary"),l.a.createElement("th",{scope:"col"},"Action")),l.a.createElement("tbody",null,r.map(function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.department),l.a.createElement("td",null,t.salary),l.a.createElement("td",null,l.a.createElement("span",{className:"btn btn-danger pd-1",style:{paddingTop:"2px",paddingBottom:"2px",paddingRight:"5px",paddingLeft:"5px",marginRight:"5px"},onClick:function(a){return function(t,a){t.preventDefault();var n=e.employeeDataList.filter(function(e){return e.name!==a.name||e.department!==a.department||e.salary!==a.salary});e.setEmployeeDataList(n)}(a,t)}},l.a.createElement("i",{className:"fa fa-trash"})),l.a.createElement("span",{className:"btn btn-info pd-1",style:{paddingTop:"2px",paddingBottom:"2px",paddingRight:"5px",paddingLeft:"5px"},onClick:function(n){return function(t,a,n){t.preventDefault(),e.setEditableIndex(n),e.setEditableData(a),e.setAction("Update")}(n,t,a)}},l.a.createElement("i",{className:"fa fa-edit"}))))}),0===r.length&&l.a.createElement("tr",null,"No match found"))))}),m=a(4),i=a(2),u=a(7),p=function(){var e=Object(n.useContext)(d),t=Object(n.useState)({}),a=Object(o.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!1),p=Object(o.a)(s,2),E=p[0],b=p[1];Object(n.useEffect)(function(){0===Object.keys(e.editableData).length?console.log("no update"):(console.log("update"),c(e.editableData))},[e]);var f=function(e){e.target.setCustomValidity(""),c(Object(u.a)({},r,Object(i.a)({},e.target.name,e.target.value)))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{className:E?"was-validated":"",onSubmit:function(t){if(t.preventDefault(),console.log(e.editableData),console.log(r),""===r.name||""===r.department||""===r.salary)b(!0),t.stopPropagation();else{var a;if(b(!1),"Add"===e.action)e.setEmployeeDataList([].concat(Object(m.a)(e.employeeDataList),[r]));else if("Update"===e.action){var n=Object(m.a)(e.employeeDataList);n[e.editableIndex]=r,e.setEmployeeDataList(n),e.setEditableIndex(-1),e.setEditableData({}),e.setAction("Add")}c((a={},Object(i.a)(a,"name",""),Object(i.a)(a,"department",""),Object(i.a)(a,"salary",""),a))}}},l.a.createElement("div",{className:"form-group col-8 mt-2"},l.a.createElement("label",null,"Employee Name"),l.a.createElement("input",{type:"text",className:"form-control mt-2",name:"name",value:r.name,placeholder:"Enter employee name",onChange:f,minLength:3,maxLength:20,pattern:"[A-Za-z][A-Za-z\\s-]{1,18}[A-Za-z]",onInvalid:function(e){e.target.setCustomValidity("Name should be contains only alphabets, space and '-' and space and '-' should not be at the start and end position")},required:!0})),l.a.createElement("div",{className:"form-group col-8 mt-2"},l.a.createElement("label",null,"Department"),l.a.createElement("textarea",{className:"form-control mt-2",name:"department",rows:"2",cols:"50",minLength:3,maxLength:30,onChange:f,required:!0,value:r.department})),l.a.createElement("div",{className:"form-group col-8 mt-2"},l.a.createElement("label",null,"Salary"),l.a.createElement("input",{type:"text",className:"form-control mt-2",name:"salary",value:r.salary,placeholder:"Enter Salary",onChange:f,pattern:"[0-9]+",required:!0,onInvalid:function(e){e.target.setCustomValidity("Only number allowed")}})),l.a.createElement("button",{type:"submit",className:"btn btn-success  mt-2"},e.action)))},d=Object(n.createContext)();var E=function(){var e=Object(n.useState)("Add"),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({}),m=Object(o.a)(c,2),i=m[0],u=m[1],E=Object(n.useState)(-1),b=Object(o.a)(E,2),f=b[0],g=b[1],y=Object(n.useState)([]),v=Object(o.a)(y,2),h=v[0],D=v[1];return l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"text-secondary text-center"},"Employee Details"),l.a.createElement("hr",null),l.a.createElement(d.Provider,{value:{action:a,setAction:r,employeeDataList:h,setEmployeeDataList:D,editableData:i,editableIndex:f,setEditableData:u,setEditableIndex:g}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-5 mt-2"},l.a.createElement(p,null)),l.a.createElement("div",{className:"col-7 mt-2"},h.length>0?l.a.createElement(s,null):l.a.createElement("div",null,"No employee found")))))},b=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,47)).then(function(t){var a=t.getCLS,n=t.getFID,l=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),l(e),r(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(E,null))),b()},8:function(e,t,a){e.exports=a(44)}},[[8,3,2]]]);
//# sourceMappingURL=main.e09611e9.chunk.js.map